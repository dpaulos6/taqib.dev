---
import Container from '@/components/Container.astro';
import { getCollection } from 'astro:content';
import Layout from '@/layouts/Layout.astro';
import { PROJECTS } from '@/lib/constants';
import Link from '@/components/Link.astro'

const projects = await getCollection('projects');
---

<Layout title={PROJECTS.TITLE} description={PROJECTS.DESCRIPTION}>
  <Container class='border-t'>
    <section class='py-20 sm:border-x bg-background min-h-[calc(100vh-88px)] sm:min-h-[calc(100vh-103px)] lg:min-h-[calc(100vh-120px)]'>
      <div class='max-w-2xl mx-auto mb-10 space-y-2'>
        <h1 class='font-medium text-2xl leading-[1.1] sm:text-3xl md:text-4xl'>
          Projects
        </h1>
        <p class='text-muted-foreground'>A list of all my projects.</p>
      </div>
      <ul class='flex flex-col gap-6 max-w-2xl mx-auto'>
        {
          projects.map((project) => (
            <li>
              <Link
                href={`/projects/${project.slug}`}
                class='spaace-y-1'
                variant='card'
              >
                <p class='font-bold text-lg'>{project.data.title}</p>
                <p class='text-muted-foreground'>{project.data.description}</p>
              </Link>
            </li>
          ))
        }
      </ul>
    </section>
  </Container>
</Layout>
